# S.I.E. PRO (v2.0) - Strategic Intelligence Enterprise

**S.I.E. PRO** is a full-stack SaaS platform for strategic reputation monitoring. It utilizes **Google Gemini 2.5 Flash** to analyze news and social signals in real-time, providing sentiment analysis, risk assessment, and financial auditing of AI consumption.

## üöÄ Tech Stack

- **Frontend:** React 19, TailwindCSS, Vite.
- **Backend:** Node.js, Express.
- **Database:** PostgreSQL (via `pg` pool).
- **AI Core:** Google Gemini API (`gemini-2.5-flash`).
- **Authentication:** JWT (JSON Web Tokens) with Role-Based Access Control (RBAC).

---

## üõ†Ô∏è Installation & Setup

### 1. Prerequisites
- Node.js v18+
- PostgreSQL Database

### 2. Environment Variables
Create a `.env` file in the root directory:

```env
PORT=3000
NODE_ENV=development

# Database Connection
DB_HOST=localhost
DB_PORT=5432
DB_NAME=sie_pro
DB_USER=postgres
DB_PASSWORD=your_password

# Security
JWT_SECRET=super_secret_key_change_in_production
CRON_KEY=secure_key_for_triggering_jobs

# AI Configuration
API_KEY=your_google_gemini_api_key
```

### 3. Database Setup
Run the SQL script found in `pages/Documentation.tsx` (Database Tab) in your PostgreSQL instance to create tables and seed initial users.

### 4. Run the Application

**Development Mode:**
```bash
# Terminal 1: Frontend
npm run dev

# Terminal 2: Backend
npm start
```

**Production Build:**
```bash
# Build React App
npm run build

# Start Server (Serves static build + API)
node server.js
```

---

## üîë Key Features

### 1. Advanced CRM & User Management (New v3.1)
- **Lifecycle Management:** Control user status (`active`, `inactive`, `suspended`).
- **Impersonation:** "Login as User" feature allows admins to securely access any client dashboard for support.
- **Activity Tracking:** Monitor `last_login` timestamps and platform usage.
- **Filtering & Search:** Advanced filtering by plan, status, and keywords.

### 2. Financial Management v2.0
- **Smart Renewals:** Manual payment recording automatically extends subscriptions based on current status.
- **Date Adjustments:** Granular control to manually edit subscription end dates (for trials or extensions).
- **Revenue Analytics:** Real-time MRR (Monthly Recurring Revenue) and daily cash flow charts.

### 3. Client Dashboard & AI
- **Real-time Feed:** Stream of analyzed URLs/News.
- **Configuration:** Users define keywords and URLs to track.
- **AI Insights:** Sentiment analysis and summaries generated by Gemini.
- **Public Admin Search:** "Raio-X" tool for governmental transparency reports generated by AI.

### 4. Auditing & Security
- **Request Logs:** Track every AI token consumed and its cost in USD.
- **Role-Based Access:** Strict separation between Admin and Client routes.
- **Secure Auth:** Bcrypt password hashing and JWT stateless sessions.

---

## üìÇ Project Structure

- `/config` - Database connection pool.
- `/middleware` - Auth and Admin verification.
- `/routes` - API definitions (Auth, Admin, Client, Monitoring).
- `/services` - Business logic (Gemini integration, Logs).
- `/src` (root for frontend) - React components and pages.